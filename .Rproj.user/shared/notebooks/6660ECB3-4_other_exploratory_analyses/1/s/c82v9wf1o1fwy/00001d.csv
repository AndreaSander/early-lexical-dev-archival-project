"0",""
"0","#Retrieve items from media names"
"0","items <- arch_re_zero %>%"
"0","  filter(studio_project_name !=""CogMisp-24"")%>%"
"0","   filter(studio_project_name !=""LearnMix-36"")%>%"
"0","distinct(media_name, studio_project_name, age_months, trial_lang) %>%"
"0","    mutate(media_name = case_when(str_detect(media_name, ""Dog|Chien"")~""dog"","
"0","                          str_detect(media_name, ""Cookie|Biscuit"")~ ""cookie"","
"0","                          str_detect(media_name, ""Apple|Pomme"")~""apple"","
"0","                          str_detect(media_name, ""Spoon|Cuillere"")~""spoon"","
"0","                           str_detect(media_name, ""Book|Livre"")~""book"","
"0","                           str_detect(media_name, ""Hand|Main"")~""hand"","
"0","                           str_detect(media_name, ""Ear|Oreille"")~""ear"","
"0","                           str_detect(media_name, ""Mouth|Bouche"")~""mouth"","
"0","                           str_detect(media_name, ""Foot|Pied"")~""foot"","
"0","                           str_detect(media_name, ""Toothbrush|Brosse"")~""toothbrush"","
"0","                           str_detect(media_name, ""Door|Porte"")~""door"","
"0","                           str_detect(media_name, ""Bird"")~""bird"","
"0","                          TRUE~media_name)) %>%"
"0","  separate(media_name, into = c(""item"", ""2"", ""3""), sep=""_"", remove=F) %>%"
"0","  dplyr::select (-c(""2"", ""3""))"
"2","Warning: Expected 3 pieces. Missing pieces filled with `NA` in 943 rows [1, 2, 4, 5, 6, 8, 10, 17, 18, 20, 21, 22, 24, 26, 32, 33, 35, 36, 37, 39, ...]."
"0","items_learnmix <- arch_re_zero %>%"
"0","  filter(studio_project_name== ""LearnMix-36"") %>%"
"0","distinct(media_name, studio_project_name, age_months, trial_lang) %>%"
"0","  mutate(media_name = str_remove(media_name, ""FR"")) %>%"
"0","  mutate(media_name = str_remove(media_name, ""Single"")) %>%"
"0","  mutate(media_name = str_remove(media_name, ""EN"")) %>%"
"0","  separate(media_name, into = c(""1"", ""2"", ""item""), sep=""_"", remove=F) %>%"
"0","  dplyr::select (-c(""1"", ""2"")) %>%"
"0","  mutate(item = case_when(str_detect(item, ""Chien|Dog"")~""dog"","
"0","                          str_detect(item, ""Lapin|Bunny"")~ ""bunny"","
"0","                          str_detect(item, ""Poisson|Fish"")~""fish""))"
"2","Warning: Expected 3 pieces. Additional pieces discarded in 112 rows [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, ...]."
"0","items_cogmisp <- arch_re_zero %>%"
"0","  filter(studio_project_name== ""CogMisp-24"") %>%"
"0","distinct(media_name, studio_project_name, age_months, trial_lang) %>%"
"0","  separate(media_name, into = c(""1"", ""2"", ""item"", ""4""), sep=""_"", remove=F)%>%"
"0"," dplyr::select (-c(""1"", ""2"", ""4"")) %>%"
"0","  mutate(item = case_when(str_detect(item, ""banC"")~""banana"","
"0","                          str_detect(item, ""bowC"")~ ""bowl"","
"0","                          str_detect(item, ""mouC"")~""mouth"","
"0","                          str_detect(item, ""girC"")~""giraffe"","
"0","                          str_detect(item, ""cooC"")~""cookie"","
"0","                          str_detect(item, ""pizC"")~""pizza"","
"0","                          str_detect(item, ""winC"")~""window"","
"0","                          str_detect(item, ""butC"")~""butterfly"","
"0","                          str_detect(item, ""choC"")~""chocolate"","
"0","                          str_detect(item, ""tabC"")~""table"","
"0","                          str_detect(item, ""fooC"")~""foot"","
"0","                          str_detect(item, ""monC"")~""monkey""))"
"0",""
"0","#Create combined list of items from all studies"
"0","arch_items <- rbind(items,items_learnmix,items_cogmisp) %>%"
"0","  dplyr::select (-media_name) %>%"
"0","  mutate(item = tolower(item)) "
"0"," arch_items$item[arch_items$item== ""froggy""] <- ""frog"" "
"0",""
"0",""
"0"," #----------------------- ENGLISH ITEMS AOA ---------------------------#"
"0",""
"0"," english_items<- get_item_data(""English (American)"", ""WS"") %>%"
"0","   filter(str_detect(uni_lemma, ""ear|apple|fish|dog|spoon|hand|sheep|toothbrush|frog|door|pencil|bunny|coat|monkey|duck|cow|cookie|book|mouth|bird|foot|bunny|banana|bowl|giraffe|pizza|window|butterfly|chocolate|table"")) %>%"
"0","     filter(!str_detect(uni_lemma, ""bear|applesauce|tear|hear|cowboy|food"")) "
"0"," "
"0"," item_id_eng <- english_items$item_id"
"0",""
"0","admin_by_item_eng<- get_instrument_data ("
"0","  language = c(""English (American)""),"
"0","  form = ""WS"","
"0","  items = all_of(item_id_eng),"
"0","  administration_info = T,"
"0","  item_info = T)"
"2","Warning: Using `all_of()` outside of a selecting function was deprecated in tidyselect 1.2.0.
See details at ]8;package = tidyselect:topic = faq-selection-context;ide:help?tidyselect::faq-selection-context]8;;"
"0","eng_items_aoa<- fit_aoa(admin_by_item_eng)"
"0",""
"0","eng_items_aoa <- eng_items_aoa %>%"
"0","  mutate(item = item_definition)"
"0",""
"0","eng_items_aoa$item[eng_items_aoa$item==""fish(animal)""]<- ""fish"""
"0",""
"0","arch_eng_items_aoa <- left_join(eng_items_aoa, arch_items, by=""item"") %>%"
"0","  filter(trial_lang ==""english"")"
"2","Warning: Each row in `x` is expected to match at most 1 row in `y`."
"0","#-------------- FRENCH ITEMS AOA ------------------------#"
"0",""
"0",""
"0"," french_items<- get_item_data(""French (Quebecois)"", ""WS"") %>%"
"0","   filter(str_detect(uni_lemma, ""ear|apple|fish|dog|spoon|hand|sheep|toothbrush|frog|door|pencil|bunny|coat|monkey|duck|cow|cookie|book|mouth|bird|foot|bunny|banana|bowl|giraffe|pizza|window|butterfly|chocolate|table"")) %>%"
"0","     filter(!str_detect(uni_lemma, ""bear|applesauce|tear|hear|cowboy|food"")) "
"0"," "
"0"," item_id_fre <- french_items$item_id"
"0",""
"0","admin_by_item_fre<- get_instrument_data ("
"0","  language = c(""French (Quebecois)""),"
"0","  form = ""WS"","
"0","  items = all_of(item_id_fre),"
"0","  administration_info = T,"
"0","  item_info = T)"
"0",""
"0","fre_items_aoa<- fit_aoa(admin_by_item_fre)"
"0",""
"0","fre_items_aoa <- fre_items_aoa %>%"
"0","  mutate(item = uni_lemma) "
"0",""
"0","fre_items_aoa$item[fre_items_aoa$item==""fish(animal)""]<- ""fish"""
"0",""
"0","arch_fre_items_aoa <- left_join(fre_items_aoa, arch_items, by=""item"") %>%"
"0","    filter(trial_lang ==""french"") %>%"
"0","  mutate(item = paste(item, ""fre"", sep=""_""))"
"2","Warning: Each row in `x` is expected to match at most 1 row in `y`."
"0"," "
"0","#--------------------- CALCULATE MEAN AOA BY STUDY AND MEAN AGE BY STUDY----------#"
"0","arch_all_items_aoa <- rbind(arch_eng_items_aoa, arch_fre_items_aoa) #combine french and english AOA information"
"0",""
"0","mean_aoa_by_study<- arch_all_items_aoa %>%"
"0","  group_by(studio_project_name) %>%"
"0","  summarise(mean(aoa, na.rm=T))"
"0",""
"0",""
"0","mean_age_by_study <- arch_all_items_aoa %>%"
"0","  group_by(studio_project_name) %>%"
"0","  summarise(mean(age_months))"
"0",""
"0","mean_age_and_aoa <- left_join(mean_aoa_by_study, mean_age_by_study, by=""studio_project_name"")"
"0","#------------------- PLOT ----------------#"
"0",""
"0","ggplot(arch_eng_items_aoa, aes(x=age_months, y=aoa))+"
"0","  #geom_point(aes(color = as.factor(item))) +"
"0","  geom_point(aes(color = studio_project_name)) +"
"0","  geom_smooth(aes(color = studio_project_name))"
