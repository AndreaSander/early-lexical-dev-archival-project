str_detect(item, "tabC")~"table",
str_detect(item, "fooC")~"foot",
str_detect(item, "monC")~"monkey"))
#Create combined list of items from all studies
arch_with_items <- rbind(items_2,items_learnmix_2,items_cogmisp_2) %>%
select (-media_name) %>%
mutate(item = tolower(item))
arch_with_items$item[arch_with_items$item== "froggy"] <- "frog"
#Create a column with by study by item info
arch_with_items <- arch_with_items %>%
mutate(study_by_item= paste(item, studio_project_name, sep ="_"))
#Keep a list of items that were used in at least 3/5 studies
list_repeated_items <- c("ear", "apple", "spoon", "hand", "toothbrush", "door", "dog", "cookie", "mouth", "foot")
arch_common_items <- arch_with_items %>%
filter(item == list_repeated_items)
arch_common_items <- arch_common_items %>%
group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%
mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%
group_by(studio_project_name)%>%
mutate(noun_onset = case_when(studio_project_name=="CompMix-36"~trial_from_zero-3000,
studio_project_name=="LearnMix-36"~trial_from_zero-4500,
studio_project_name=="Mix-20"~trial_from_zero-5400,
studio_project_name=="Mix-14"~trial_from_zero-5400,
studio_project_name=="CogMisp-24"~trial_from_zero-1500))%>%
ungroup()%>%
rename(target_side=target, distractor_side=distractor,
gaze_point_x= gaze_point_x_adc_spx,
gaze_point_y = gaze_point_y_adc_spx)%>%
filter(gaze_point_x>=0 & gaze_point_x<= 1920)%>% #keeps only observations that are in the screen
filter(gaze_point_y>=0 & gaze_point_y<=1200)%>%
filter(!is.na(gaze_point_x))%>% #gets rid of the observations where tobii didn't get any reading
filter(!is.na(gaze_point_y))%>%
filter(!is.na(validity_left)) %>%
filter(!is.na(validity_right)) %>%
filter(validity_left<= 1)%>%
filter(validity_right <= 1)%>%
mutate(target = case_when(gaze_point_x >= target_x_min&gaze_point_x <= target_x_max&gaze_point_y >= target_y_min&gaze_point_y <= target_y_max~TRUE,
TRUE~FALSE))
arch_common_items <- arch_common_items %>%
group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%
mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%
group_by(studio_project_name)%>%
mutate(noun_onset = case_when(studio_project_name=="CompMix-36"~trial_from_zero-3000,
studio_project_name=="LearnMix-36"~trial_from_zero-4500,
studio_project_name=="Mix-20"~trial_from_zero-5400,
studio_project_name=="Mix-14"~trial_from_zero-5400,
studio_project_name=="CogMisp-24"~trial_from_zero-1500))
View(arch_common_items)
arch_common_items <- arch_common_items %>%
group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%
mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%
group_by(studio_project_name)%>%
mutate(noun_onset = case_when(studio_project_name=="CompMix-36"~trial_from_zero-3000,
studio_project_name=="LearnMix-36"~trial_from_zero-4500,
studio_project_name=="Mix-20"~trial_from_zero-5400,
studio_project_name=="Mix-14"~trial_from_zero-5400,
studio_project_name=="CogMisp-24"~trial_from_zero-1500))%>%
ungroup()%>%
rename(target_side=target, distractor_side=distractor,
gaze_point_x= gaze_point_x_adc_spx,
gaze_point_y = gaze_point_y_adc_spx)
arch_common_items <- arch_common_items %>%
group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%
mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%
group_by(studio_project_name)%>%
mutate(noun_onset = case_when(studio_project_name=="CompMix-36"~trial_from_zero-3000,
studio_project_name=="LearnMix-36"~trial_from_zero-4500,
studio_project_name=="Mix-20"~trial_from_zero-5400,
studio_project_name=="Mix-14"~trial_from_zero-5400,
studio_project_name=="CogMisp-24"~trial_from_zero-1500))%>%
ungroup()%>%
rename(gaze_point_x= gaze_point_x_adc_spx,
gaze_point_y = gaze_point_y_adc_spx)
arch_common_items <- arch_common_items %>%
group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%
mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%
group_by(studio_project_name)%>%
mutate(noun_onset = case_when(studio_project_name=="CompMix-36"~trial_from_zero-3000,
studio_project_name=="LearnMix-36"~trial_from_zero-4500,
studio_project_name=="Mix-20"~trial_from_zero-5400,
studio_project_name=="Mix-14"~trial_from_zero-5400,
studio_project_name=="CogMisp-24"~trial_from_zero-1500))%>%
ungroup()%>%
filter(gaze_point_x>=0 & gaze_point_x<= 1920)%>% #keeps only observations that are in the screen
filter(gaze_point_y>=0 & gaze_point_y<=1200)%>%
filter(!is.na(gaze_point_x))%>% #gets rid of the observations where tobii didn't get any reading
filter(!is.na(gaze_point_y))%>%
filter(!is.na(validity_left)) %>%
filter(!is.na(validity_right)) %>%
filter(validity_left<= 1)%>%
filter(validity_right <= 1)%>%
mutate(target = case_when(gaze_point_x >= target_x_min&gaze_point_x <= target_x_max&gaze_point_y >= target_y_min&gaze_point_y <= target_y_max~TRUE,
TRUE~FALSE))
library(tidyverse)
library(here)
library(dplyr)
library(lme4)
library(lmerTest)
library(afex)
library(gazer)
library(mgcv)
library(gamm4)
library(broom)
library(rempsyc)
load(here("merged_data_sets/arch_final.Rda"))
arch_re_zero<- arch_final%>%
group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%
mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%
group_by(studio_project_name)%>%
mutate(noun_onset = case_when(studio_project_name=="CompMix-36"~trial_from_zero-3000,
studio_project_name=="LearnMix-36"~trial_from_zero-4500,
studio_project_name=="Mix-20"~trial_from_zero-5400,
studio_project_name=="Mix-14"~trial_from_zero-5400,
studio_project_name=="CogMisp-24"~trial_from_zero-1500))%>%
ungroup()%>%
rename(target_side=target, distractor_side=distractor,
gaze_point_x= gaze_point_x_adc_spx,
gaze_point_y = gaze_point_y_adc_spx)%>%
filter(gaze_point_x>=0 & gaze_point_x<= 1920)%>% #keeps only observations that are in the screen
filter(gaze_point_y>=0 & gaze_point_y<=1200)%>%
filter(!is.na(gaze_point_x))%>% #gets rid of the observations where tobii didn't get any reading
filter(!is.na(gaze_point_y))%>%
filter(!is.na(validity_left)) %>%
filter(!is.na(validity_right)) %>%
filter(validity_left<= 1)%>%
filter(validity_right <= 1)%>%
mutate(target = case_when(gaze_point_x >= target_x_min&gaze_point_x <= target_x_max&gaze_point_y >= target_y_min&gaze_point_y <= target_y_max~TRUE,
TRUE~FALSE))
arch_re_zero <- arch_re_zero%>%
ungroup()%>%
group_by(studio_test_name, eng_exp, fre_exp)%>%
mutate(trial_lang = case_when(str_detect(studio_test_name,"E")~ "english",
str_detect(studio_test_name, "F")~ "french"))
#centering to an easy to interpret value that is close to the mean, 25 months for age and 50% for experience.
arch_re_zero<- arch_re_zero%>%
mutate(exp_to_target_lang = case_when(trial_lang == "english" ~ eng_exp,
trial_lang == "french" ~ fre_exp)) %>%
mutate(exp_target_lang_prop = exp_to_target_lang/100)
#mean(arch_re_zero$age_months)#25.79
#mean(arch_re_zero$exp_target_lang_prop) #0.57
arch_re_zero_c<- arch_re_zero %>%
mutate(age_centered = age_months-25) %>%
mutate(exp_centered =exp_target_lang_prop - .50)
#Adding item info to arch_re_zero
items_2 <- arch_re_zero_c %>%
filter(studio_project_name !="CogMisp-24")%>%
filter(studio_project_name !="LearnMix-36")%>%
mutate(media_name = case_when(str_detect(media_name, "Dog|Chien")~"dog",
str_detect(media_name, "Cookie|Biscuit")~ "cookie",
str_detect(media_name, "Apple|Pomme")~"apple",
str_detect(media_name, "Spoon|Cuillere")~"spoon",
str_detect(media_name, "Book|Livre")~"book",
str_detect(media_name, "Hand|Main")~"hand",
str_detect(media_name, "Ear|Oreille")~"ear",
str_detect(media_name, "Mouth|Bouche")~"mouth",
str_detect(media_name, "Foot|Pied")~"foot",
str_detect(media_name, "Toothbrush|Brosse")~"toothbrush",
str_detect(media_name, "Door|Porte")~"door",
str_detect(media_name, "Bird")~"bird",
TRUE~media_name)) %>%
separate(media_name, into = c("item", "2", "3"), sep="_", remove=F) %>%
select (-c("2", "3"))
items_learnmix_2 <- arch_re_zero_c %>%
filter(studio_project_name== "LearnMix-36") %>%
mutate(media_name = str_remove(media_name, "FR")) %>%
mutate(media_name = str_remove(media_name, "Single")) %>%
mutate(media_name = str_remove(media_name, "EN")) %>%
separate(media_name, into = c("1", "2", "item"), sep="_", remove=F) %>%
select (-c("1", "2")) %>%
mutate(item = case_when(str_detect(item, "Chien|Dog")~"dog",
str_detect(item, "Lapin|Bunny")~ "bunny",
str_detect(item, "Poisson|Fish")~"fish"))
items_cogmisp_2 <- arch_re_zero_c %>%
filter(studio_project_name== "CogMisp-24") %>%
separate(media_name, into = c("1", "2", "item", "4"), sep="_", remove=F)%>%
select (-c("1", "2", "4")) %>%
mutate(item = case_when(str_detect(item, "banC")~"banana",
str_detect(item, "bowC")~ "bowl",
str_detect(item, "mouC")~"mouth",
str_detect(item, "girC")~"giraffe",
str_detect(item, "cooC")~"cookie",
str_detect(item, "pizC")~"pizza",
str_detect(item, "winC")~"window",
str_detect(item, "butC")~"butterfly",
str_detect(item, "choC")~"chocolate",
str_detect(item, "tabC")~"table",
str_detect(item, "fooC")~"foot",
str_detect(item, "monC")~"monkey"))
#Create combined list of items from all studies
arch_with_items <- rbind(items_2,items_learnmix_2,items_cogmisp_2) %>%
select (-media_name) %>%
mutate(item = tolower(item))
arch_with_items$item[arch_with_items$item== "froggy"] <- "frog"
#Create a column with by study by item info
arch_with_items <- arch_with_items %>%
mutate(study_by_item= paste(item, studio_project_name, sep ="_"))
#Keep a list of items that were used in at least 3/5 studies
list_repeated_items <- c("ear", "apple", "spoon", "hand", "toothbrush", "door", "dog", "cookie", "mouth", "foot")
arch_common_items <- arch_with_items %>%
filter(item == list_repeated_items)
for_lmm_common <- arch_common_items
for_lmm_common <- for_lmm_common %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_centered,exp_centered)%>%
summarise(samples_total=sum(target==TRUE, target==FALSE ),
samples_target=sum(target))%>%
mutate(prop_looking= samples_target/samples_total)
for_lmm_common <- for_lmm_common %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, item, age_centered,exp_centered)%>%
summarise(samples_total=sum(target==TRUE, target==FALSE ),
samples_target=sum(target))%>%
mutate(prop_looking= samples_target/samples_total)
#1) Maturation only
lmm_age_only_common <- lmer (prop_looking ~ age_centered + (1|subject_id) + (1|item), data = for_lmm_common)
summary(lmm_age_only_common)
#2) Experience only
lmm_experience_only_common <- lmer (prop_looking ~ exp_centered + (1|subject_id) + (1|item), data = for_lmm_common)
summary(lmm_experience_only_common)
#3)Accumulator model
lmm_accumulator_common <- lmer (prop_looking ~ exp_centered * age_centered + (1|subject_id) + (1|item), data = for_lmm_common)
summary(lmm_accumulator_common)
#4) Additive Model
lmm_aditive_common <- lmer (prop_looking ~ exp_centered + age_centered + (1|subject_id) + (1|item), data = for_lmm_common)
summary(lmm_aditive_common) #<- SELECTED MODEL
?power
View(lmm_accumulator_common)
library(see)
library(patchwork)
library(tidyverse)
library(here)
library(dplyr)
library(lme4)
library(lmerTest)
library(afex)
library(gazer)
library(mgcv)
library(gamm4)
library(broom)
library(ggiraph)
library(ggiraphExtra)
library(ggeffects)
library(ggExtra)
library(sjPlot)
library(DHARMa)
library(performance)
library(broom.mixed)
library(rempsyc)
load(here("merged_data_sets/arch_final.Rda"))
arch_re_zero<- arch_final%>%
group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%
mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%
group_by(studio_project_name)%>%
mutate(noun_onset = case_when(studio_project_name=="CompMix-36"~trial_from_zero-3000,
studio_project_name=="LearnMix-36"~trial_from_zero-4500,
studio_project_name=="Mix-20"~trial_from_zero-5400,
studio_project_name=="Mix-14"~trial_from_zero-5400,
studio_project_name=="CogMisp-24"~trial_from_zero-1500))%>%
ungroup()%>%
rename(target_side=target, distractor_side=distractor,
gaze_point_x= gaze_point_x_adc_spx,
gaze_point_y = gaze_point_y_adc_spx)%>%
filter(gaze_point_x>=0 & gaze_point_x<= 1920)%>% #keeps only observations that are in the screen
filter(gaze_point_y>=0 & gaze_point_y<=1200)%>%
filter(!is.na(gaze_point_x))%>% #gets rid of the observations where tobii didn't get any reading
filter(!is.na(gaze_point_y))%>%
filter(!is.na(validity_left)) %>%
filter(!is.na(validity_right)) %>%
filter(validity_left<= 1)%>%
filter(validity_right <= 1)%>%
mutate(target = case_when(gaze_point_x >= target_x_min&gaze_point_x <= target_x_max&gaze_point_y >= target_y_min&gaze_point_y <= target_y_max~TRUE,
TRUE~FALSE))
arch_re_zero <- arch_re_zero%>%
ungroup()%>%
group_by(studio_test_name, eng_exp, fre_exp)%>%
mutate(trial_lang = case_when(str_detect(studio_test_name,"E")~ "english",
str_detect(studio_test_name, "F")~ "french"))
#centering to an easy to interpret value that is close to the mean, 25 months for age and 50% for experience.
arch_re_zero<- arch_re_zero%>%
mutate(exp_to_target_lang = case_when(trial_lang == "english" ~ eng_exp,
trial_lang == "french" ~ fre_exp)) %>%
mutate(exp_target_lang_prop = exp_to_target_lang/100)
#mean(arch_re_zero$age_months)#25.79
#mean(arch_re_zero$exp_target_lang_prop) #0.57
arch_re_zero_c<- arch_re_zero %>%
mutate(age_centered = age_months-25) %>%
mutate(exp_centered =exp_target_lang_prop - .50)
for_lmm <- arch_re_zero_c
for_lmm <- for_lmm %>%
filter(noun_onset>= 360 & noun_onset <= 3000)%>%
group_by(recording_name, subject_id, trial_number, media_name, age_centered,exp_centered)%>%
summarise(samples_total=sum(target==TRUE, target==FALSE ),
samples_target=sum(target))%>%
mutate(prop_looking= samples_target/samples_total)
#1) Maturation only
lmm_age_only <- lmer (prop_looking ~ age_centered + (1|subject_id) + (1|media_name), data = for_lmm)
#summary(lmm_age_only)
#2) Experience only
lmm_experience_only <- lmer (prop_looking ~ exp_centered + (1|subject_id) + (1|media_name), data = for_lmm)
#summary(lmm_experience_only)
#3)Accumulator model
lmm_accumulator <- lmer (prop_looking ~ exp_centered * age_centered + (1|subject_id) + (1|media_name), data = for_lmm)
#summary(lmm_accumulator)
#4) Additive Model
lmm_aditive <- lmer (prop_looking ~ exp_centered + age_centered + (1|subject_id) + (1|media_name), data = for_lmm)
#summary(lmm_aditive) #<- SELECTED MODEL
#This line calculates AIC, BIC R2 Cond and R2 marg
compare_performance(lmm_aditive, lmm_accumulator, lmm_age_only, lmm_experience_only)
library(tidyverse)
library(here)
library(dplyr)
library(lme4)
library(lmerTest)
library(afex)
library(gazer)
library(mgcv)
library(gamm4)
library(broom)
library(rempsyc)
load(here("merged_data_sets/arch_final.Rda"))
arch_re_zero<- arch_final%>%
group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%
mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%
group_by(studio_project_name)%>%
mutate(noun_onset = case_when(studio_project_name=="CompMix-36"~trial_from_zero-3000,
studio_project_name=="LearnMix-36"~trial_from_zero-4500,
studio_project_name=="Mix-20"~trial_from_zero-5400,
studio_project_name=="Mix-14"~trial_from_zero-5400,
studio_project_name=="CogMisp-24"~trial_from_zero-1500))%>%
ungroup()%>%
rename(target_side=target, distractor_side=distractor,
gaze_point_x= gaze_point_x_adc_spx,
gaze_point_y = gaze_point_y_adc_spx)%>%
filter(gaze_point_x>=0 & gaze_point_x<= 1920)%>% #keeps only observations that are in the screen
filter(gaze_point_y>=0 & gaze_point_y<=1200)%>%
filter(!is.na(gaze_point_x))%>% #gets rid of the observations where tobii didn't get any reading
filter(!is.na(gaze_point_y))%>%
filter(!is.na(validity_left)) %>%
filter(!is.na(validity_right)) %>%
filter(validity_left<= 1)%>%
filter(validity_right <= 1)%>%
mutate(target = case_when(gaze_point_x >= target_x_min&gaze_point_x <= target_x_max&gaze_point_y >= target_y_min&gaze_point_y <= target_y_max~TRUE,
TRUE~FALSE))
arch_re_zero <- arch_re_zero%>%
ungroup()%>%
group_by(studio_test_name, eng_exp, fre_exp)%>%
mutate(trial_lang = case_when(str_detect(studio_test_name,"E")~ "english",
str_detect(studio_test_name, "F")~ "french"))
#centering to an easy to interpret value that is close to the mean, 25 months for age and 50% for experience.
arch_re_zero<- arch_re_zero%>%
mutate(exp_to_target_lang = case_when(trial_lang == "english" ~ eng_exp,
trial_lang == "french" ~ fre_exp)) %>%
mutate(exp_target_lang_prop = exp_to_target_lang/100)
#mean(arch_re_zero$age_months)#25.79
#mean(arch_re_zero$exp_target_lang_prop) #0.57
arch_re_zero_c<- arch_re_zero %>%
mutate(age_centered = age_months-25) %>%
mutate(exp_centered =exp_target_lang_prop - .50)
for_gca <- arch_re_zero_c%>%
filter(noun_onset>=360 & noun_onset<=2500) %>%
mutate(time_bins= ifelse(ceiling(noun_onset/100) == 0, 100, ceiling(noun_onset/100)*100))%>%
ungroup()%>%
group_by(recording_name, subject_id, trial_number, media_name,age_centered, exp_centered, time_bins)%>%
summarise(samples_total=sum(target==TRUE, target==FALSE ),
samples_target=sum(target))%>%
mutate(prop_looking= samples_target/samples_total )
for_gca <- code_poly(for_gca, predictor = "time_bins", poly.order=3, draw.poly = FALSE)
gca_age_only <- lmer (prop_looking ~ poly1*age_centered + poly2*age_centered + (1|subject_id) + (1|media_name), data = for_gca)
summary(gca_age_only)
gca_experience_only <- lmer (prop_looking ~ poly1*exp_centered + poly2*exp_centered+ (1|subject_id) + (1|media_name), data = for_gca)
summary(gca_experience_only)
gca_additive <- lmer (prop_looking ~ poly1*exp_centered + poly1*age_centered + poly2*exp_centered + poly2*age_centered + (1|subject_id) + (1|media_name), data = for_gca)
gca_accumulator <- lmer (prop_looking ~ poly1*(exp_centered*age_centered)+ poly2*(exp_centered*age_centered)+ (1|subject_id) + (1|media_name), data = for_gca)
library(wordbankr)
library(janitor)
#Retrieve items from media names
items <- arch_re_zero %>%
filter(studio_project_name !="CogMisp-24")%>%
filter(studio_project_name !="LearnMix-36")%>%
distinct(media_name, studio_project_name, age_months, trial_lang) %>%
mutate(media_name = case_when(str_detect(media_name, "Dog|Chien")~"dog",
str_detect(media_name, "Cookie|Biscuit")~ "cookie",
str_detect(media_name, "Apple|Pomme")~"apple",
str_detect(media_name, "Spoon|Cuillere")~"spoon",
str_detect(media_name, "Book|Livre")~"book",
str_detect(media_name, "Hand|Main")~"hand",
str_detect(media_name, "Ear|Oreille")~"ear",
str_detect(media_name, "Mouth|Bouche")~"mouth",
str_detect(media_name, "Foot|Pied")~"foot",
str_detect(media_name, "Toothbrush|Brosse")~"toothbrush",
str_detect(media_name, "Door|Porte")~"door",
str_detect(media_name, "Bird")~"bird",
TRUE~media_name)) %>%
separate(media_name, into = c("item", "2", "3"), sep="_", remove=F) %>%
select (-c("2", "3"))
items_learnmix <- arch_re_zero %>%
filter(studio_project_name== "LearnMix-36") %>%
distinct(media_name, studio_project_name, age_months, trial_lang) %>%
mutate(media_name = str_remove(media_name, "FR")) %>%
mutate(media_name = str_remove(media_name, "Single")) %>%
mutate(media_name = str_remove(media_name, "EN")) %>%
separate(media_name, into = c("1", "2", "item"), sep="_", remove=F) %>%
select (-c("1", "2")) %>%
mutate(item = case_when(str_detect(item, "Chien|Dog")~"dog",
str_detect(item, "Lapin|Bunny")~ "bunny",
str_detect(item, "Poisson|Fish")~"fish"))
items_cogmisp <- arch_re_zero %>%
filter(studio_project_name== "CogMisp-24") %>%
distinct(media_name, studio_project_name, age_months, trial_lang) %>%
separate(media_name, into = c("1", "2", "item", "4"), sep="_", remove=F)%>%
select (-c("1", "2", "4")) %>%
mutate(item = case_when(str_detect(item, "banC")~"banana",
str_detect(item, "bowC")~ "bowl",
str_detect(item, "mouC")~"mouth",
str_detect(item, "girC")~"giraffe",
str_detect(item, "cooC")~"cookie",
str_detect(item, "pizC")~"pizza",
str_detect(item, "winC")~"window",
str_detect(item, "butC")~"butterfly",
str_detect(item, "choC")~"chocolate",
str_detect(item, "tabC")~"table",
str_detect(item, "fooC")~"foot",
str_detect(item, "monC")~"monkey"))
#Create combined list of items from all studies
arch_items <- rbind(items,items_learnmix,items_cogmisp) %>%
select (-media_name) %>%
mutate(item = tolower(item))
arch_items$item[arch_items$item== "froggy"] <- "frog"
#----------------------- ENGLISH ITEMS AOA ---------------------------#
english_items<- get_item_data("English (American)", "WS") %>%
filter(str_detect(uni_lemma, "ear|apple|fish|dog|spoon|hand|sheep|toothbrush|frog|door|pencil|bunny|coat|monkey|duck|cow|cookie|book|mouth|bird|foot|bunny|banana|bowl|giraffe|pizza|window|butterfly|chocolate|table")) %>%
filter(!str_detect(uni_lemma, "bear|applesauce|tear|hear|cowboy|food"))
item_id_eng <- english_items$item_id
admin_by_item_eng<- get_instrument_data (
language = c("English (American)"),
form = "WS",
items = all_of(item_id_eng),
administration_info = T,
item_info = T)
eng_items_aoa<- fit_aoa(admin_by_item_eng)
eng_items_aoa <- eng_items_aoa %>%
mutate(item = item_definition)
eng_items_aoa$item[eng_items_aoa$item=="fish(animal)"]<- "fish"
arch_eng_items_aoa <- left_join(eng_items_aoa, arch_items, by="item") %>%
filter(trial_lang =="english")
#-------------- FRENCH ITEMS AOA ------------------------#
french_items<- get_item_data("French (Quebecois)", "WS") %>%
filter(str_detect(uni_lemma, "ear|apple|fish|dog|spoon|hand|sheep|toothbrush|frog|door|pencil|bunny|coat|monkey|duck|cow|cookie|book|mouth|bird|foot|bunny|banana|bowl|giraffe|pizza|window|butterfly|chocolate|table")) %>%
filter(!str_detect(uni_lemma, "bear|applesauce|tear|hear|cowboy|food"))
item_id_fre <- french_items$item_id
admin_by_item_fre<- get_instrument_data (
language = c("French (Quebecois)"),
form = "WS",
items = all_of(item_id_fre),
administration_info = T,
item_info = T)
fre_items_aoa<- fit_aoa(admin_by_item_fre)
fre_items_aoa <- fre_items_aoa %>%
mutate(item = uni_lemma)
fre_items_aoa$item[fre_items_aoa$item=="fish(animal)"]<- "fish"
arch_fre_items_aoa <- left_join(fre_items_aoa, arch_items, by="item") %>%
filter(trial_lang =="french") %>%
mutate(item = paste(item, "fre", sep="_"))
#--------------------- CALCULATE MEAN AOA BY STUDY AND MEAN AGE BY STUDY----------#
arch_all_items_aoa <- rbind(arch_eng_items_aoa, arch_fre_items_aoa) #combine french and english AOA information
mean_aoa_by_study<- arch_all_items_aoa %>%
group_by(studio_project_name) %>%
summarise(mean(aoa, na.rm=T))
mean_age_by_study <- arch_all_items_aoa %>%
group_by(studio_project_name) %>%
summarise(mean(age_months))
mean_age_and_aoa <- left_join(mean_aoa_by_study, mean_age_by_study, by="studio_project_name")
#------------------- PLOT ----------------#
ggplot(arch_eng_items_aoa, aes(x=age_months, y=aoa))+
#geom_point(aes(color = as.factor(item))) +
geom_point(aes(color = studio_project_name)) +
geom_smooth(aes(color = studio_project_name))
library(tidyverse)
library(here)
library(dplyr)
library(lme4)
library(lmerTest)
library(afex)
library(gazer)
library(mgcv)
library(gamm4)
library(broom)
library(rempsyc)
load(here("merged_data_sets/arch_final.Rda"))
arch_re_zero<- arch_final%>%
group_by(studio_project_name, studio_test_name, trial_number, recording_name)%>%
mutate(trial_from_zero = recording_timestamp-min(recording_timestamp))%>%
group_by(studio_project_name)%>%
mutate(noun_onset = case_when(studio_project_name=="CompMix-36"~trial_from_zero-3000,
studio_project_name=="LearnMix-36"~trial_from_zero-4500,
studio_project_name=="Mix-20"~trial_from_zero-5400,
studio_project_name=="Mix-14"~trial_from_zero-5400,
studio_project_name=="CogMisp-24"~trial_from_zero-1500))%>%
ungroup()%>%
rename(target_side=target, distractor_side=distractor,
gaze_point_x= gaze_point_x_adc_spx,
gaze_point_y = gaze_point_y_adc_spx)%>%
filter(gaze_point_x>=0 & gaze_point_x<= 1920)%>% #keeps only observations that are in the screen
filter(gaze_point_y>=0 & gaze_point_y<=1200)%>%
filter(!is.na(gaze_point_x))%>% #gets rid of the observations where tobii didn't get any reading
filter(!is.na(gaze_point_y))%>%
filter(!is.na(validity_left)) %>%
filter(!is.na(validity_right)) %>%
filter(validity_left<= 1)%>%
filter(validity_right <= 1)%>%
mutate(target = case_when(gaze_point_x >= target_x_min&gaze_point_x <= target_x_max&gaze_point_y >= target_y_min&gaze_point_y <= target_y_max~TRUE,
TRUE~FALSE))
